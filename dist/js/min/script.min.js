var HSHP=HSHP||{};HSHP.MODAL_MANAGER=function(t){this.$modalGroup=t,this.init()},HSHP.MODAL_MANAGER.prototype={TIMER:250,init:function(){this.setParameter(),this.bindEvent()},setParameter:function(){this.$modalItem=this.$modalGroup.find(".jscModalItem"),this.$modalWrap=$(".jscModal"),this.$closeTrigger=$(".jscModalClose"),this.$next=$(".jscModalNext"),this.$prev=$(".jscModalPrev"),this.$modalImage=$(".jscModalImage"),this.$modalTitle=$(".jscModalTitle"),this.$modalLink=$(".jscModalLink").find("a"),this.$modalDate=$(".jscModalDate"),this.$modalDescription=$(".jscModalDescription"),this.$currentNum=$(".jscCurrentNum"),this.$itemLength=$(".jscItemLength"),this.$modalInfoContents=$(".jscModalMainContents")},bindEvent:function(){this.$closeTrigger.on("click",$.proxy(this.closeModal,this)),this.$modalItem.on("click",$.proxy(this.openModal,this))},closeModal:function(){this.$modalWrap.css({display:"none"})},openModal:function(t){this.$currentItem=$(t.currentTarget),this.$modalWrap.css({display:"block"}),this.setData(),this.$next.off("click",$.proxy(this.setItem,this,"next")),this.$prev.off("click",$.proxy(this.setItem,this,"prev")),this.$next.on("click",$.proxy(this.setItem,this,"next")),this.$prev.on("click",$.proxy(this.setItem,this,"prev"))},setData:function(){var t={image:this.$currentItem.find('[data-modal="image"]').find("img"),title:this.$currentItem.find('[data-modal="title"]').text(),href:this.$currentItem.find('[data-modal="href"]').text(),date:this.$currentItem.find('[data-modal="date"]').text(),description:this.$currentItem.find('[data-modal="description"]').text()};this.$modalImage.css({"background-image":'url("'+t.image.attr("src")+'")'}),this.$currentNum.text(this.$currentItem.index()+1),this.$itemLength.text(this.$modalItem.length),this.$modalTitle.text(t.title),this.$modalLink.text(t.href),this.$modalLink.attr("href",t.href),this.$modalDate.text(t.date),this.$modalDescription.text(t.description)},setItem:function(t){this.$modalInfoContents.is(":animated")||(this.$modalInfoContents.fadeOut(this.TIMER,function(){"next"===t?this.$currentItem=this.$currentItem.next().length?this.$currentItem.next():this.$modalGroup.find(".jscModalItem:first-child"):"prev"===t&&(this.$currentItem=this.$currentItem.prev().length?this.$currentItem.prev():this.$modalGroup.find(".jscModalItem:last-child")),this.setData()}.bind(this)),setTimeout(function(){this.$modalInfoContents.fadeIn(this.TIMER)}.bind(this),this.TIMER))}},HSHP.KV_SCROLL_INTERACTION={init:function(){this.setParameter(),this.scrollEvent()},setParameter:function(){this.$window=$(window),this.$kv=$(".jscKV")},scrollEvent:function(){var i=this,e=this.$kv.outerHeight();this.$window.on("scroll",function(){var t=$(this).scrollTop();t<=e&&i.$kv.css({"background-position":"50% calc(50% + "+t+"px)"})})}},$(function(){$(".jscModalGroup").each(function(){new HSHP.MODAL_MANAGER($(this))}),HSHP.KV_SCROLL_INTERACTION.init()});